{"version":3,"sources":["../../../src/config/initializers/database.js"],"names":["config","require","mongoose","path","authString","db_user_name","db_password","concat","str","dbURL","db_service_name","dp_service_port","db_name","console","log","connect","useCreateIndex","useNewUrlParser","err","db"],"mappings":";;AAAA,MAAMA,SAASC,QAAQ,iBAAR,CAAf;AACA,MAAMC,WAAWD,QAAQ,UAAR,CAAjB;AACA,MAAME,OAAOF,QAAQ,MAAR,CAAb;;AAEA,IAAIG,aAAW,EAAf;AACA,IAAGJ,OAAOK,YAAP,IAAuBL,OAAOM,WAAjC,EAA8C;AAC5CF,eAAaA,WAAWG,MAAX,CAAkBP,OAAOK,YAAzB,EAAsC,GAAtC,EAA0CL,OAAOM,WAAjD,EAA8D,GAA9D,CAAb;AACD;AACD,MAAME,MAAI,EAAV;AACA,IAAIC,QAAQD,IAAID,MAAJ,CAAW,YAAX,EAAyBH,UAAzB,EAAqCJ,OAAOU,eAA5C,EAA6D,GAA7D,EAAkEV,OAAOW,eAAzE,EAA0F,GAA1F,EAA8FX,OAAOY,OAArG,CAAZ;AACA;AACA;AACA;;AAEAC,QAAQC,GAAR,CAAY,OAAZ,EAAqBL,KAArB;AACAP,SAASa,OAAT,CAAiBN,KAAjB,EAAuB;AACnBO,kBAAgB,IADG;AAEnBC,mBAAiB;AAFE,CAAvB,EAIE,UAASC,GAAT,EAAcC,EAAd,EAAkB;AAChB,MAAID,GAAJ,EAAS;AACPL,YAAQC,GAAR,CAAY,iCAAiCL,KAA7C;AACAI,YAAQC,GAAR,CAAYI,GAAZ;AACD,GAHD,MAGO;AACLL,YAAQC,GAAR,CAAY,aAAZ;AACD;AACF,CAXH","file":"database.js","sourcesContent":["const config = require('../../config.js');\nconst mongoose = require('mongoose');\nconst path = require('path');\n\nlet authString=\"\"\nif(config.db_user_name && config.db_password ){\n  authString = authString.concat(config.db_user_name,':',config.db_password, '@');\n} \nconst str=\"\";\nlet dbURL = str.concat('mongodb://', authString, config.db_service_name, ':', config.dp_service_port ,'/',config.db_name)\n// if (config.db_replicaset_key){\n//   dbURL = dbURL.concat ('?replicaSet=', config.db_replicaset_key);\n// }\n\nconsole.log('dbURL', dbURL);\nmongoose.connect(dbURL,{ \n    useCreateIndex: true,\n    useNewUrlParser: true\n  },\n  function(err, db) {\n    if (err) {\n      console.log('database is not connected : ' + dbURL);\n      console.log(err);\n    } else {\n      console.log('connected!!');\n    }\n  }\n);"]}