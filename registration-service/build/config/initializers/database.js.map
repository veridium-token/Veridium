{"version":3,"sources":["../../../src/config/initializers/database.js"],"names":["config","require","mongoose","path","authString","db_user_name","db_password","concat","str","dbURL","db_service_name","dp_service_port","db_name","console","log","connectWithRetry","connect","useNewUrlParser","reconnectTries","Number","MAX_VALUE","then","catch","err","setTimeout"],"mappings":";;AAAA,MAAMA,SAASC,QAAQ,iBAAR,CAAf;AACA,MAAMC,WAAWD,QAAQ,UAAR,CAAjB;AACA,MAAME,OAAOF,QAAQ,MAAR,CAAb;;AAEA,IAAIG,aAAW,EAAf;AACA,IAAGJ,OAAOK,YAAP,IAAuBL,OAAOM,WAAjC,EAA8C;AAC5CF,iBAAaA,WAAWG,MAAX,CAAkBP,OAAOK,YAAzB,EAAsC,GAAtC,EAA0CL,OAAOM,WAAjD,EAA8D,GAA9D,CAAb;AACD;AACD,MAAME,MAAI,EAAV;AACA,IAAIC,QAAQD,IAAID,MAAJ,CAAW,YAAX,EAAyBH,UAAzB,EAAqCJ,OAAOU,eAA5C,EAA6D,GAA7D,EAAkEV,OAAOW,eAAzE,EAA0F,GAA1F,EAA8FX,OAAOY,OAArG,CAAZ;;AAGAC,QAAQC,GAAR,CAAY,OAAZ,EAAqBL,KAArB;AACA,IAAIM,mBAAmB,YAAW;AAC9Bb,aAASc,OAAT,CAAiBP,KAAjB,EAAuB;AACnBQ,yBAAiB,IADE;AAEnBC,wBAAgBC,OAAOC;AAFJ,KAAvB,EAGGC,IAHH,CAGQ,MAAM;AACVR,gBAAQC,GAAR,CAAY,aAAZ;AACH,KALD,EAKGQ,KALH,CAKUC,GAAD,IAAS;AACdC,mBAAWT,gBAAX,EAA6B,IAA7B;AACH,KAPD;AAQH,CATD;AAUAA","file":"database.js","sourcesContent":["const config = require('../../config.js');\nconst mongoose = require('mongoose');\nconst path = require('path');\n\nlet authString=\"\"\nif(config.db_user_name && config.db_password ){\n  authString = authString.concat(config.db_user_name,':',config.db_password, '@');\n} \nconst str=\"\";\nlet dbURL = str.concat('mongodb://', authString, config.db_service_name, ':', config.dp_service_port ,'/',config.db_name)\n\n\nconsole.log('dbURL', dbURL);\nvar connectWithRetry = function() {\n    mongoose.connect(dbURL,{ \n        useNewUrlParser: true,\n        reconnectTries: Number.MAX_VALUE\n    }).then(() => {\n        console.log('connected!!');\n    }).catch((err) => {\n        setTimeout(connectWithRetry, 5000);\n    });\n};\nconnectWithRetry();"]}